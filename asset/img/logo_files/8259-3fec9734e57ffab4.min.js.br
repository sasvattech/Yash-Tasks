"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0f1f0668-0a31-5528-b1a1-10123c8c7582")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8259],{758259:(e,t,i)=>{i.d(t,{S_:()=>P,cw:()=>k,g_:()=>x,gk:()=>N});var a=i(268853),r=i(776250),n=i(737947),o=i(966712),l=i(988261),s=i(776621),_=i(650322),d=i(27087),m=i(881388),c=i(939863),p=i(303345),u=i(980820),g=i(738269),f=i(662275),E=i(988022),h=i(964258),y=i(243987),T=i(888870),v=i(239671),b=i(622139),S=i(637590),I=i(50292),A=i(507877),C=i(995852),R=i(902957),w=i(114961);let x=(0,u.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(g.$T({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),P=(0,u.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:n,onError:o}=t;d.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{n(),e.dispatch(m.s.flash((0,c.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{o(),e.dispatch(m.s.error((0,c.t)("flash.redeem_promo.failure")))})}),k=(0,u.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id,l=(0,o.kc)().ps_benchmark;d.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{l&&n?e.dispatch(A._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(g.$T({view:"team",teamId:i})),e.dispatch(m.s.flash((0,c.t)("payments.pro_trial.start_pro_trial_success"))),T.R_.trackInitiationSubmit(a,!0)}).catch(t=>{l&&n?e.dispatch(A._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(g.$T({view:"recentsAndSharing"})),e.dispatch(m.s.error((0,c.t)("payments.pro_trial.start_pro_trial_error"))),T.R_.trackInitiationSubmit(a,!1)})}),N=(0,u.nF)((e,{teamName:t,invites:i,teamId:u,selectedCurrency:T,hasSelectedStudentTeam:x,teamFlowType:P,onSuccess:k})=>{let N;let U=e.getState(),D=(0,o.kc)().ps_benchmark,O=(0,o.kc)().pro_onboarding_launch,W=(0,o.kc)().campfire_cart,F=U.user?.id,L=(e,t)=>({annual_quantity:(0,y.fD)(e,t),monthly_quantity:(0,y.Rq)(e,t)}),z=(0,y.ne)(U.payment.billingPeriod);if(!z){e.dispatch(m.s.error((0,c.t)("payments.invalid_billing_interval_error")));return}let M=null,G=null;if(W){let t=U.payment.campfireSeats?.byUser,i=Object.values(u?U.teamUserByTeamId[u]:{}).map(e=>e.user_id??"");if(t&&(0,p.HG)(t,i))G=(0,p.VB)(t)??null,M=U.payment.campfireSeats?.totals??null;else{e.dispatch(m.s.error((0,c.t)("payments.errors.error_processing_upgrade_request"))),(0,s.$D)(a.e.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:u,selectedUserSeatTypes:t}});return}}else M={design:U.payment.numDesignEditors,figjam:U.payment.numWhiteboardEditors};let B={...L(U.payment.billingPeriod,U.payment.numDesignEditors),annual_whiteboard_quantity:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:U.payment.editorStatusChanges,subscription_monthly_quantity_figjam:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:U.payment.vatGstId||null,regional_vat_gst_id:U.payment.regionalVatGstId||null,legal_name:U.payment.legalName||null,display_name:U.payment.displayName||null,selected_user_seat_types:G,count_by_billable_product:M,billing_interval:z};if(null===u){let e=U.payment.promo,a=!!U.user&&(0,_.cn)(U.user);if(null!=e)N={...B,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&x)N={...B,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,o.DC)();N={...B,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:T}}}else N={...B,selected_currency:T};let $=u?`/api/subscriptions-2018-11-08/team/${u}`:"/api/teams/create",q=U.selectedView,j=U.payment.upgradingNewTeam;d.Ay.post($,N).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,o=()=>{if(D&&F){let t={userId:F,teamId:a.id,orgId:null};e.dispatch(A._l({workspace:t,view:{view:"allProjects",isProUpgrade:O||void 0}}))}else e.dispatch(g.$T({view:"team",teamId:a.id})),O?e.dispatch(f.to({type:I.C,data:{teamId:a.id}})):e.dispatch(m.s.flash((0,c.t)("flash.successfully_upgraded_to_a_professional_team")))};u||(0,h.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:P}),e.dispatch(C.I2({submitPending:!1})),e.dispatch(C.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]}}})),a&&e.dispatch(R.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(C.Lo({billingPeriod:b.tY.UNSPECIFIED})),U.payment.promo&&((0,l._H)(),e.dispatch(C.Ay({promo:null})));let s=new URLSearchParams(n.Ay.location.search);if(j){if(s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(g.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:v.nT.Design}))}else o()}else if(e.dispatch(w.Be({teamId:a.id})),s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(g.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:v.nT.Design}))}else o();(0,r.sx)("Pro Team Purchased (GTM)"),k&&k()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(n.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),o=a.get("onCompleteRedirectNodeId");e.dispatch(g.$T({...q,view:"teamUpgrade",teamFlowType:t?S.SC.UPGRADE_EXISTING_TEAM:S.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:b.tn.PAYMENT_AND_ADDRESS,previousView:q.previousView,planType:S.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:o}}:{}}))};e.dispatch(C.I2({submitPending:!1}));let a=t.data?.message||t.message;null!==u?(0,E._J)("Pro Checkout Error",u,U,{error_message:a}):(0,r.sx)("Pro Checkout Error"),((t,a)=>{let r=(0,c.Jv)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(C.Ay({promo:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(C.WG({token:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):e.dispatch(m.s.error(r)))})(t,u)})})},888870:(e,t,i)=>{i.d(t,{$Q:()=>A,Mm:()=>T,NN:()=>y,PG:()=>w,R_:()=>a,TB:()=>C,bo:()=>R,h3:()=>I,iX:()=>v});var a,r=i(411855),n=i(776250),o=i(966712),l=i(163023),s=i(939863),_=i(809840),d=i(746869),m=i(965821),c=i(485247),p=i(569673),u=i(301834),g=i(383234),f=i(637427),E=i(236446),h=i(176694);let y="Pro Trial Initiation Modal",T="Pro Trial Downgrade Modal";var v=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(v||{}),b=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(b||{}),S=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(S||{});let I=Object.keys(v).length/2,A={freelancer:(0,o.ck)("06cfa92c773695fb0be0202d467640e521950e67"),agency:(0,o.ck)("e98abc8479042db5e94f5c35bf764ad4326f892f"),product:(0,o.ck)("915ace9058a397e6e4ceadc221dd20a9d95898d7"),other:(0,o.ck)("4423aaa8499d483db2703e6cad1b4c90805e7f16")},C=[{teamType:"freelancer",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer"))},{teamType:"agency",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.agency"))},{teamType:"product",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.product"))},{teamType:"other",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"))}],R={unlimited_files:r.createElement(l.B,{svg:m.A}),component_libraries:r.createElement(l.B,{svg:f.A}),organizing_files:r.createElement(l.B,{svg:c.A}),voting_workshops:r.createElement(l.B,{svg:h.A}),playing_videos:r.createElement(l.B,{svg:E.A}),sharing_files:r.createElement(l.B,{svg:g.A}),inviting_visitors:r.createElement(l.B,{svg:p.A}),audio:r.createElement(l.B,{svg:u.A})},w=[{featureType:"unlimited_files",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files"))},{featureType:"component_libraries",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries"))},{featureType:"organizing_files",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files"))},{featureType:"voting_workshops",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping"))},{featureType:"playing_videos",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos"))},{featureType:"sharing_files",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files"))},{featureType:"inviting_visitors",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors"))},{featureType:"audio",featureText:r.createElement(_.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio"))}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,n.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,...d.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},421276:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(411855),r=i(163023),n=i(154254),o=i(809840);if(443==i.j)var l=i(377869);function s(e){return a.createElement("p",{className:n.cx.flex.itemsCenter.gap8.mt8.$},a.createElement(r.B,{svg:l.A,className:n.cx.colorIconDesign.$}),a.createElement(o.E,{fontSize:13},e.bulletLabel))}},573821:(e,t,i)=>{i.d(t,{L0:()=>d,UA:()=>_,_:()=>m,fS:()=>c});var a=i(411855),r=i(966712),n=i(154254),o=i(939863),l=i(809840),s=i(421276);let _="seen_pro_onboarding_welcome_modal";function d(){return a.createElement("div",{className:n.cx.mt16.$},a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")}))}function m({user:e}){return a.createElement(l.E,{fontSize:24,fontWeight:"bold"},(0,o.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]}))}function c(){return a.createElement("img",{width:313,src:(0,r.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),alt:"An illustration welcoming you to Figma Professional"})}},50292:(e,t,i)=>{i.d(t,{C:()=>g});var a=i(411855),r=i(188507),n=i(939863),o=i(809840),l=i(662275),s=i(760824),_=i(101505),d=i(860178),m=i(212957),c=i(237870),p=i(700886),u=i(573821);let g=(0,c.Ju)(function({teamId:e}){let t=(0,d.iZ)(),i=(0,r.d4)(t=>t.teams[e]),c=(0,r.wA)(),g=(0,r.d4)(e=>e.userTeamFlags);if(!t||g[e]?.[u.UA])return null;let f=()=>{c(s.bE({all_team_flags:[{team_id:e,flags:{[u.UA]:!0}}]})),c(l.Ce())},E=a.createElement(a.Fragment,null,(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:a.createElement(o.E,{fontWeight:"bold"},i.name)}),a.createElement(u.L0,null));return a.createElement(p.xx,{title:a.createElement(u._,{user:t}),description:E,media:a.createElement(u.fS,null),primaryCta:{type:"button",label:a.createElement(o.E,{fontSize:13},(0,n.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:_.c.GET_STARTED,onClick:f},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:m.S.getTrackingProperties(e),onClose:f,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=0f1f0668-0a31-5528-b1a1-10123c8c7582

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c4f3dd06d3caeda5b1a6c5db68b3632a2683ca54/8259-3fec9734e57ffab4.min.js.map